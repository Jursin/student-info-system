{% extends "base.html" %}

{% block title %}添加学生 - 统一身份信息管理系统{% endblock %}

{% block content %}
<div class="Box" style="max-width: 800px; margin: 40px auto; position:relative;">
    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 24px;">
        <h2 style="margin: 0;">添加学生</h2>
        <a class="btn btn-outline" href="{{ url_for('admin.list_students') }}">返回列表</a>
    </div>
    
    <form method="post">
        {{ form.csrf_token }}
        
        <div class="Grid Grid--2">
            <div class="FormGroup">
                <label class="FormGroup-label" for="name">姓名</label>
                {{ form.name(class_='FormControl', required=True, placeholder='请输入2-4个中文姓名') }}
            </div>
            
            <div class="FormGroup">
                <label class="FormGroup-label" for="gender">性别</label>
                {{ form.gender(class_='FormControl') }}
            </div>

            <div class="FormGroup">
                <label class="FormGroup-label" for="student_id">学号</label>
                {{ form.student_id(class_='FormControl', required=True, minlength=10, maxlength=10, placeholder='请输入10位学号') }}
            </div>
            
            <div class="FormGroup">
                <label class="FormGroup-label" for="id_card">身份证号码</label>
                {{ form.id_card(class_='FormControl', minlength=18, maxlength=18, placeholder='可留空或输入18位身份证号码') }}
            </div>
            
            <div class="FormGroup">
                <label class="FormGroup-label" for="phone">电话号码</label>
                {{ form.phone(class_='FormControl', minlength=11, maxlength=11, placeholder='可留空或输入11位手机号') }}
            </div>
            
            <div class="FormGroup">
                <label class="FormGroup-label" for="major">专业</label>
                {{ form.major(class_='FormControl') }}
            </div>
            
            <div class="FormGroup">
                <label class="FormGroup-label" for="clazz">班级</label>
                {{ form.clazz(class_='FormControl', minlength=5, maxlength=5, placeholder='可留空或输入5位班级号') }}
            </div>
            
            <div class="FormGroup">
                <label class="FormGroup-label" for="hometown">籍贯</label>
                {{ form.hometown(class_='FormControl', maxlength=100, placeholder='可留空，如 XX 省 XX 市') }}
            </div>
        </div>
        
        <div style="display: flex; gap: 12px; margin-top: 24px; justify-content:center;">
            <button class="btn btn-primary" type="submit" style="width:100px;">保存</button>
            <a class="btn btn-outline" href="{{ url_for('admin.list_students') }}" style="width:100px;">取消</a>
        </div>
    </form>
</div>

{% if form.id_card.errors %}
<script>
    document.addEventListener('DOMContentLoaded', function() {
        setTimeout(function(){ alert('{{ form.id_card.errors[0] | trim }}'); }, 0);
    });
</script>
{% endif %}
{% endblock %}


